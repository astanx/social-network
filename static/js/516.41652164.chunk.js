"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[516],{9963:(s,e,a)=>{a.r(e),a.d(e,{default:()=>M});var i=a(5043);const t="Messages_content__wNDBY",l="MessageList_MessageList__LxXPb";var o=a(8088),d=a(5386),n=a(579);const g=s=>{const e=(Array.isArray(s.MessagesData)?s.MessagesData:[s.MessagesData]).map((s=>(0,n.jsx)(o.A,{link:"true",name:s.userName,logo:s.photos.small?s.photos.small:d,id:s.id,isDeletable:!1},s.id)));return(0,n.jsx)("div",{className:l,children:e})},r={};var m=a(4455),c=(a(9102),a(3216)),D=a(8347);const u=s=>{var e;const i=a(4348),{userId:t}=(0,c.g)(),l=s.DialogData&&s.DialogData.items&&s.DialogData.items.length>0?null===(e=s.DialogData)||void 0===e?void 0:e.items.map((s=>(0,n.jsx)(o.A,{isDeletable:!0,viewed:s.viewed,message:s.body,name:s.senderName,logo:d,messageId:s.id,id:s.senderId,deleteMessage:D.RC,time:i.utc(s.addedAt).tz("Europe/Moscow").format("YYYY-MM-DD HH:mm")},s.id))):null;return t?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:r.message,children:l}),(0,n.jsx)(m.A,{friendId:Number(t),login:s.login,ws:void 0})]}):null};var v=a(8122),x=a(3003);const M=(0,a(6990).A)((()=>{const{userId:s}=(0,c.g)(),e=(0,x.d4)((s=>s.login.isLogined)),a=(0,x.d4)((s=>s.messages.isFetching)),l=(0,x.d4)((s=>s.messages.MessagesData)),o=(0,x.d4)((s=>s.messages.DialogData)),d=(0,x.d4)((s=>s.login.login)),r=(0,x.wA)();return(0,i.useEffect)((()=>{e&&(r((0,D.VL)()),s&&r((0,D.rC)(Number(s))))}),[s]),a?(0,n.jsx)(v.A,{}):(0,n.jsxs)("div",{className:t,children:[(0,n.jsx)(g,{MessagesData:l}),(0,n.jsx)(u,{login:d,DialogData:o})]})}))},5386:(s,e,a)=>{s.exports=a.p+"static/media/logo.2f2ff0b4682deee5c970.png"}}]);
//# sourceMappingURL=516.41652164.chunk.js.map