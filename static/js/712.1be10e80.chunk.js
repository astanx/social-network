"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[712],{4712:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j});var i=a(5043),s=a(4858);const t={content:"Login_content__Or5pz",rememberMe:"Login_rememberMe__q-h5T",form:"Login_form__csKgm",captcha:"Login_captcha__VnIl7"};var l=a(1906),c=a(3216),o=a(3003),n=a(8152),d=a(6258),h=a(8671),u=a(9413),m=a(4605),p=a(3217),g=a(579);const j=(0,o.Ng)((e=>({isLogined:e.login.isLogined,captcha:e.login.captcha})),{auth:n.j2,getCaptcha:n.z8,login:n.iD})((e=>{let{isLogined:r,captcha:a,login:o,getCaptcha:n,auth:j}=e;const x=(0,c.Zp)(),[f,v]=(0,i.useState)(!1),[b,_]=(0,i.useState)(null),{register:w,handleSubmit:C,formState:{errors:N}}=(0,s.mN)();(0,i.useEffect)((()=>{r&&x("/profile")}),[r,x]);return(0,g.jsxs)("div",{className:t.content,children:[(0,g.jsx)("h3",{children:"Login"}),(0,g.jsxs)("form",{className:t.form,onSubmit:C((async e=>{_(null);try{var r,a;const i=await o(e);(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.resultCode)===d.$9.RequiredCaptcha?(v(!0),n()):(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.resultCode)===d.$9.Success?(j(),x("/profile")):_("Wrong data. Try again.")}catch(i){_("An error occurred")}})),children:[(0,g.jsx)(h.A,{error:!!N.email,label:"Email",variant:"outlined",type:"email",...w("email",{required:!0})}),N.email&&(0,g.jsx)("p",{className:t.error,children:"This field is required"}),(0,g.jsx)(h.A,{error:!!N.password,label:"Password",variant:"outlined",type:"password",...w("password",{required:!0})}),N.password&&(0,g.jsx)("p",{className:t.error,children:"This field is required"}),(0,g.jsx)(u.A,{children:(0,g.jsx)(m.A,{label:"Remember me",control:(0,g.jsx)(p.A,{...w("rememberMe")})})}),f&&(0,g.jsxs)("div",{className:t.captcha,children:[(0,g.jsx)("img",{src:a,alt:"Captcha"}),(0,g.jsx)(h.A,{error:!!N.captcha,label:"Captcha",variant:"outlined",...w("captcha",{required:!0})}),N.captcha&&(0,g.jsx)("p",{className:t.error,children:"This field is required"})]}),b&&(0,g.jsx)("p",{className:t.error,children:b}),(0,g.jsx)(l.A,{variant:"contained",type:"submit",children:"Submit"})]})]})}))}}]);
//# sourceMappingURL=712.1be10e80.chunk.js.map