"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[712],{4712:(e,a,r)=>{r.r(a),r.d(a,{default:()=>b});var s=r(5043),i=r(4858);const t={content:"Login_content__Or5pz",rememberMe:"Login_rememberMe__q-h5T",form:"Login_form__csKgm",captcha:"Login_captcha__VnIl7"};var c=r(1906),l=r(3216),n=r(3003),o=r(8152),d=r(6258),h=r(8671),m=r(9413),p=r(4605),u=r(3217),g=r(579);const b=(0,n.Ng)((e=>({isLogined:e.login.isLogined,captcha:e.login.captcha})),{auth:o.j2,getCaptcha:o.z8,login:o.iD})((e=>{const a=(0,l.Zp)(),[r,n]=(0,s.useState)(!1),[o,b]=(0,s.useState)(null),{register:j,handleSubmit:x,formState:{errors:_}}=(0,i.mN)({});(0,s.useEffect)((()=>{e.isLogined&&a("/profile")}),[e.isLogined,a]);return(0,g.jsxs)("div",{className:t.content,children:[(0,g.jsx)("h3",{children:"Login"}),(0,g.jsxs)("form",{className:t.form,onSubmit:x((r=>{b(null),e.login(r).then((r=>{r.data.resultCode===d.$9.RequiredCaptcha&&(n(!0),e.getCaptcha()),r.data.resultCode===d.$9.Success?(a("/profile"),e.auth()):b("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}))})),children:[(0,g.jsx)(h.A,{error:!!_.email,id:"outlined-basic",label:"Email",variant:"outlined",type:"email",...j("email",{required:!0})}),_.email&&(0,g.jsx)("p",{className:t.error,children:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,g.jsx)(h.A,{error:!!_.password,id:"outlined-basic",label:"Password",variant:"outlined",type:"password",...j("password",{required:!0})}),_.password&&(0,g.jsx)("p",{className:t.error,children:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,g.jsx)(m.A,{children:(0,g.jsx)(p.A,{label:"Remember me ",control:(0,g.jsx)(u.A,{}),...j("rememberMe")})}),r?(0,g.jsxs)("div",{className:t.captcha,children:[(0,g.jsx)("img",{src:e.captcha,alt:"Captcha"}),(0,g.jsx)(h.A,{error:!!_.captcha,id:"outlined-basic",label:"Captcha",variant:"outlined",...j("captcha",{required:!0})}),_.captcha&&(0,g.jsx)("p",{className:t.error,children:"\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"})]}):null,o&&(0,g.jsx)("p",{className:t.error,children:o}),(0,g.jsx)(c.A,{variant:"contained",type:"submit",children:"Submit"})]})]})}))}}]);
//# sourceMappingURL=712.e7c86551.chunk.js.map