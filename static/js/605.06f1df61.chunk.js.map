{"version":3,"file":"static/js/605.06f1df61.chunk.js","mappings":"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","sources":["webpack://social_network/./src/components/Messages/Dialog/SendMessage/SendMessage.module.css?3cb9","components/Messages/Dialog/SendMessage/SendMessage.tsx","components/UserMessage/UserMessage.tsx","components/hoc/withAuth.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SendMessage\":\"SendMessage_SendMessage__Yz56f\"};","import React, { useState } from \"react\";\r\nimport classes from \"./SendMessage.module.css\";\r\n\r\n\r\nimport Button from \"@mui/material/Button\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  MessagesActionsTypes,\r\n  sendMessage,\r\n} from \"../../../../redux/messagesReducer.ts\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppStateType } from \"../../../../redux/storeRedux.ts\";\r\nimport { TextField } from \"@mui/material\";\r\n\r\ntype FormValuesType = {\r\n  messageText: string;\r\n};\r\n\r\ntype SendMessagePropsType = {\r\n  friendId: number;\r\n  login: string | null;\r\n  ws: any\r\n};\r\n\r\nconst SendMessage: React.FC<SendMessagePropsType> = (props) => {\r\n  const dispatch: ThunkDispatch<AppStateType, void, MessagesActionsTypes> =\r\n    useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm<FormValuesType>({});\r\n\r\n  const submit = (data) => {\r\n    if (props.ws) {\r\n      props.ws.send(data.messageText)\r\n      reset()\r\n    }\r\n    else if (data.messageText.trim() !== \"\") {\r\n      dispatch(sendMessage(props.friendId, data.messageText));\r\n      reset();\r\n    }\r\n  };\r\n\r\n  \r\n  return (\r\n    <form onSubmit={handleSubmit(submit)} className={classes.SendMessage}>\r\n      <TextField\r\n        error={!!errors.messageText}\r\n        id=\"outlined-basic\"\r\n        label=\"Message\"\r\n        variant=\"filled\"\r\n        autoComplete=\"off\"\r\n        {...register(\"messageText\", { required: true })}\r\n      />\r\n      <Button variant=\"contained\" type=\"submit\" disabled={props.ws ? props.ws.readyState !== 1 : false}>Send</Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Avatar, Card, CardContent, Typography, IconButton } from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport viewed from \"./../UI/Images/viewed.png\";\r\nimport sended from \"./../UI/Images/sended.png\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppStateType } from \"../../redux/storeRedux\";\r\nimport {\r\n  deleteMessage,\r\n  getDialog,\r\n  MessagesActionsTypes,\r\n} from \"../../redux/messagesReducer.ts\";\r\n\r\ntype UserMessagePropsType = {\r\n  isDeletable: boolean;\r\n  logo: string;\r\n  name: string;\r\n  time?: string;\r\n  deleteMessage?: (id: number) => void;\r\n  messageId?: number | undefined;\r\n  message?: string;\r\n  link?: string;\r\n  id: number;\r\n  viewed?: boolean;\r\n};\r\n\r\nconst UserMessage: React.FC<UserMessagePropsType> = (props) => {\r\n  const messageId = props.messageId || 2;\r\n  const dispatch: ThunkDispatch<AppStateType, void, MessagesActionsTypes> = \r\n    useDispatch();\r\n\r\n  const User = () => (\r\n    <Card variant=\"outlined\" style={{ display: \"flex\", marginBottom: \"10px\" }}>\r\n      <Avatar src={props.logo} sx={{ width: 70, height: 70 }} />\r\n      <CardContent style={{ flex: \"1\" }}>\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          <div>\r\n            <Typography variant=\"subtitle1\">{props.name}</Typography>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">{props.time}</Typography>\r\n          </div>\r\n          {props.isDeletable && (\r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={() => dispatch(deleteMessage(messageId))}\r\n            >\r\n              <DeleteIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          )}\r\n        </div>\r\n        <div style={{ display: \"flex\", alignItems: \"center\", marginTop: \"5px\" }}>\r\n          <Typography variant=\"body1\" style={{ flex: \"1\" }}>{props.message}</Typography>\r\n          {props.messageId && (\r\n            <img \r\n              style={{ width: \"20px\", marginLeft: \"10px\" }} \r\n              src={props.viewed ? viewed : sended} \r\n              alt={props.viewed ? \"viewed\" : \"sended\"} \r\n            />\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return props.link ? (\r\n    <NavLink to={`/messages/${props.id}`} onClick={() => dispatch(getDialog(props.id))}>\r\n      <User />\r\n    </NavLink>\r\n  ) : (\r\n    <div>\r\n      <User />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMessage;","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AppStateType } from \"../../redux/storeRedux\";\r\n\r\nconst withAuth = (WrappedComponent) => {\r\n  \r\n  let WithAuthComponent = (props) => {\r\n    const isLogined = useSelector((s: AppStateType) => s.login.isLogined)\r\n\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n      if (!isLogined) {\r\n        navigate(\"/login\");\r\n      }\r\n    }, [isLogined, navigate]);\r\n    return <WrappedComponent {...props} />;\r\n  };\r\n  return WithAuthComponent;\r\n};\r\n\r\nexport default withAuth;\r\n"],"names":["props","dispatch","useDispatch","register","handleSubmit","reset","formState","errors","useForm","_jsxs","onSubmit","data","ws","send","messageText","trim","sendMessage","friendId","className","classes","children","_jsx","TextField","error","id","label","variant","autoComplete","required","Button","type","disabled","readyState","messageId","User","Card","style","display","marginBottom","Avatar","src","logo","sx","width","height","CardContent","flex","justifyContent","Typography","name","color","time","isDeletable","IconButton","size","onClick","deleteMessage","DeleteIcon","fontSize","alignItems","marginTop","message","marginLeft","viewed","alt","link","NavLink","to","getDialog","WrappedComponent","isLogined","useSelector","s","login","navigate","useNavigate","useEffect"],"sourceRoot":""}