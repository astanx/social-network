"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[541],{541:(e,r,s)=>{s.r(r),s.d(r,{default:()=>_});var t=s(43),a=s(858);const o="Login_content__Or5pz",i="Login_rememberMe__q-h5T",n="Login_form__csKgm",c="Login_captcha__VnIl7";var l=s(689),d=s(922),u=(s(479),s(216)),h=s(3),m=s(152),p=s(579);const _=(0,h.Ng)((e=>({isLogined:e.login.isLogined,captcha:e.login.captcha})),{auth:m.j2,getCaptcha:m.z8,login:m.iD})((e=>{const r=(0,u.Zp)(),[s,h]=(0,t.useState)(void 0),[m,_]=(0,t.useState)(!1),{register:g,handleSubmit:f,formState:{errors:j}}=(0,a.mN)({});(0,t.useEffect)((()=>{e.isLogined&&r("/profile")}),[e.isLogined,r]);return(0,t.useEffect)((()=>{(j.email||j.password)&&h("true")}),[j]),(0,p.jsxs)("div",{className:o,children:[(0,p.jsx)("h3",{children:"Login"}),(0,p.jsxs)("form",{className:n,onSubmit:f((s=>{e.login(s).then((s=>{console.log(s),10===s.data.resultCode&&(_(!0),e.getCaptcha(),h("true")),1===s.data.resultCode&&h("true"),0===s.data.resultCode&&(r("/profile"),e.auth())}))})),children:[(0,p.jsx)(l.A,{type:"email",holder:"Email",...g("email",{required:!0}),iserror:s}),(0,p.jsx)(l.A,{type:"password",holder:"Password",...g("password",{required:!0}),iserror:s}),(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)("input",{type:"checkbox",id:"rememberMe"}),(0,p.jsx)("label",{children:"Remember me"})]}),m?(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:e.captcha}),(0,p.jsx)(l.A,{holder:"Captcha",...g("captcha",{required:!0})})]}):null,(0,p.jsx)(d.A,{name:"Submit"})]})]})}))},922:(e,r,s)=>{s.d(r,{A:()=>o});s(43);const t="MyButton_MyButton__CeT00";var a=s(579);const o=e=>(0,a.jsx)("button",{className:t,...e,children:e.name})},689:(e,r,s)=>{s.d(r,{A:()=>n});var t=s(43);const a="MyInput_input__537b-",o="MyInput_error__klO6M";var i=s(579);const n=(0,t.forwardRef)(((e,r)=>{let{...s}=e;return(0,i.jsx)("input",{ref:r,className:`${a} ${s.iserror?o:""}`,...s,placeholder:s.holder})}))}}]);
//# sourceMappingURL=541.6b087597.chunk.js.map