{"version":3,"file":"static/js/541.30ff733c.chunk.js","mappings":"iKACA,QAA0B,uBAA1B,EAAwD,oB,iECwExD,SAAeA,EAAAA,EAAAA,KANQC,IACd,CACLC,UAAWD,EAAME,MAAMD,aAIa,CAACE,KAAI,MAA7C,EA/DeC,IACb,MAAMC,GAAWC,EAAAA,EAAAA,OAEVC,EAAOC,IAAYC,EAAAA,EAAAA,eAASC,IAC7B,SACJC,EAAQ,aACRC,EACAC,WAAW,OAAEC,KACXC,EAAAA,EAAAA,IAAQ,CAAC,IAEbC,EAAAA,EAAAA,YAAU,KACJZ,EAAMH,WACRI,EAAS,WACX,GACC,CAACD,EAAMH,UAAWI,IAoBrB,OALAW,EAAAA,EAAAA,YAAU,MACJF,EAAOG,OAASH,EAAOI,WACzBV,EAAS,OACX,GACC,CAACM,KAEFK,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAgBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,WACJH,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAcG,SAAUZ,GArB7Ba,IACdC,EAAAA,GAASxB,MAAMuB,EAAKR,MAAOQ,EAAKP,UAAU,GAAOS,MAAMC,IAEpB,IAA7BA,EAASH,KAAKI,YAChBrB,EAAS,QAEsB,IAA7BoB,EAASH,KAAKI,aAChBxB,EAAS,YACTD,EAAMD,OACR,GACA,IAW8DmB,SAAA,EAC5DC,EAAAA,EAAAA,KAACO,EAAAA,EAAO,CACNC,KAAK,QACLC,OAAO,WACHrB,EAAS,QAAS,CAAEsB,UAAU,IAClCC,QAAS3B,KAEXgB,EAAAA,EAAAA,KAACO,EAAAA,EAAO,CACNC,KAAK,WACLC,OAAO,cACHrB,EAAS,WAAY,CAAEsB,UAAU,IACrCC,QAAS3B,KAGXgB,EAAAA,EAAAA,KAACY,EAAAA,EAAQ,CAACC,KAAK,gBAEb,G,uCC9DV,QAA2B,2B,aCE3B,MAQA,EARkBhC,IAEdmB,EAAAA,EAAAA,KAAA,UAAQH,UAAWC,KAAsBjB,EAAKkB,SAC3ClB,EAAMgC,M,6CCLb,QAAwB,uBAAxB,EAAuD,uB,aCEvD,MAYA,GAZgBC,EAAAA,EAAAA,aAAW,CAAAC,EAAaC,KAAS,OAAjBnC,GAAMkC,EAEpC,OACEf,EAAAA,EAAAA,KAAA,SACAgB,IAAKA,EACHnB,UAAW,GAAGC,KAAiBjB,EAAM8B,QAAUb,EAAgB,QAC3DjB,EACNoC,YAAapC,EAAM4B,QACjB,G","sources":["webpack://social_network/./src/components/Login/Login.module.css?3530","components/Login/Login.jsx","webpack://social_network/./src/components/UI/Button/MyButton.module.css?d4f4","components/UI/Button/MyButton.jsx","webpack://social_network/./src/components/UI/Input/MyInput.module.css?18b8","components/UI/Input/MyInput.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Login_content__Or5pz\",\"form\":\"Login_form__csKgm\"};","import React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport classes from \"./Login.module.css\";\r\nimport MyInput from \"../UI/Input/MyInput\";\r\nimport MyButton from \"../UI/Button/MyButton\";\r\nimport { loginAPI } from \"../../api/api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { auth } from \"../../redux/loginReducer\";\r\n\r\nconst Login = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [error, setError] = useState(undefined);\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({});\r\n  \r\n  useEffect(() => {\r\n    if (props.isLogined) {\r\n      navigate(\"/profile\");\r\n    }\r\n  }, [props.isLogined, navigate]);\r\n\r\n  const submit = (data) => {\r\n    loginAPI.login(data.email, data.password, false).then((response) => {\r\n\r\n      if (response.data.resultCode === 1) {\r\n        setError(\"true\");\r\n      }\r\n      if (response.data.resultCode === 0) {\r\n        navigate('/profile')\r\n        props.auth();\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (errors.email || errors.password) {\r\n      setError(\"true\");\r\n    } \r\n  }, [errors]);\r\n  return (\r\n    <div className={classes.content}>\r\n      <h3>Login</h3>\r\n      <form className={classes.form} onSubmit={handleSubmit(submit)}>\r\n        <MyInput\r\n          type=\"email\"\r\n          holder=\"Email\"\r\n          {...register(\"email\", { required: true })}\r\n          iserror={error}\r\n        />\r\n        <MyInput\r\n          type=\"password\"\r\n          holder=\"Password\"\r\n          {...register(\"password\", { required: true })}\r\n          iserror={error}\r\n        />\r\n\r\n        <MyButton name=\"Submit\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    isLogined: state.login.isLogined,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {auth})(Login);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"MyButton\":\"MyButton_MyButton__CeT00\"};","import React from \"react\";\r\nimport classes from \"./MyButton.module.css\";\r\n\r\nconst MyButton = (props) => {\r\n  return (\r\n    <button className={classes.MyButton} {...props}>\r\n      {props.name}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default MyButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"MyInput_input__537b-\",\"error\":\"MyInput_error__klO6M\"};","import React, { forwardRef } from \"react\";\r\nimport classes from \"./MyInput.module.css\";\r\n\r\nconst MyInput = forwardRef(({...props}, ref) => {\r\n\r\n  return (\r\n    <input\r\n    ref={ref}\r\n      className={`${classes.input} ${props.iserror ? classes.error : ''}`}\r\n      {...props}\r\n    placeholder={props.holder}\r\n    />\r\n  );\r\n});\r\n\r\nexport default MyInput;\r\n"],"names":["connect","state","isLogined","login","auth","props","navigate","useNavigate","error","setError","useState","undefined","register","handleSubmit","formState","errors","useForm","useEffect","email","password","_jsxs","className","classes","children","_jsx","onSubmit","data","loginAPI","then","response","resultCode","MyInput","type","holder","required","iserror","MyButton","name","forwardRef","_ref","ref","placeholder"],"sourceRoot":""}