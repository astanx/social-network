"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[842],{13:(e,s,a)=>{a.r(s),a.d(s,{default:()=>_});var t=a(43);const i="Messages_content__wNDBY",r="MessageList_MessageList__LxXPb";var o=a(477),d=a(386),n=a(579);const l=e=>{const s=(Array.isArray(e.MessagesData)?e.MessagesData:[e.MessagesData]).map((e=>(0,n.jsx)(o.A,{link:"true",name:e.userName,logo:e.photos.small?e.photos.small:d,id:e.id},e.id)));return(0,n.jsx)("div",{className:r,children:s})},g={},m="SendMessage_SendMessage__Yz56f";var c=a(907),u=a(240),D=a(858),x=a(347),v=a(3);const M=e=>{const s=(0,v.wA)(),{register:a,handleSubmit:t,reset:i,formState:{errors:r}}=(0,D.mN)({});return(0,n.jsxs)("form",{onSubmit:t((a=>{""!==a.messageText.trim()&&(s((0,x._z)(e.friendId,a.messageText)),i())})),className:m,children:[(0,n.jsx)(c.A,{iserror:void 0,holder:"Message",...a("messageText",{required:!0}),autoComplete:"off"}),(0,n.jsx)(u.A,{name:"Send"})]})};a(102);var h=a(216);const f=e=>{var s;const t=a(348),{userId:i}=(0,h.g)(),r=e.DialogData&&e.DialogData.items&&e.DialogData.items.length>0?null===(s=e.DialogData)||void 0===s?void 0:s.items.map((e=>(0,n.jsx)(o.A,{isDeletable:!0,viewed:e.viewed,message:e.body,name:e.senderName,logo:d,messageId:e.id,id:e.senderId,deleteMessage:x.RC,time:t.utc(e.addedAt).tz("Europe/Moscow").format("YYYY-MM-DD HH:mm")},e.id))):null;return i?(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:g.message,children:r}),(0,n.jsx)(M,{friendId:Number(i),login:e.login})]}):null};var j=a(122);const _=(0,a(990).A)((()=>{const{userId:e}=(0,h.g)(),s=(0,v.d4)((e=>e.login.isLogined)),a=(0,v.d4)((e=>e.messages.isFetching)),r=(0,v.d4)((e=>e.messages.MessagesData)),o=(0,v.d4)((e=>e.messages.DialogData)),d=(0,v.d4)((e=>e.login.login)),g=(0,v.wA)();return(0,t.useEffect)((()=>{s&&(g((0,x.VL)()),e&&g((0,x.rC)(Number(e))))}),[e]),a?(0,n.jsx)(j.A,{}):(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)(l,{MessagesData:r}),(0,n.jsx)(f,{login:d,DialogData:o})]})}))}}]);
//# sourceMappingURL=842.0cd6df66.chunk.js.map