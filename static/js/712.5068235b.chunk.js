"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[712],{712:(e,r,s)=>{s.r(r),s.d(r,{default:()=>g});var t=s(43),a=s(858);const o="Login_content__Or5pz",i="Login_rememberMe__q-h5T",n="Login_form__csKgm",c="Login_captcha__VnIl7";var l=s(907),d=s(240),u=s(216),h=s(3),m=s(152),p=s(258),_=s(579);const g=(0,h.Ng)((e=>({isLogined:e.login.isLogined,captcha:e.login.captcha})),{auth:m.j2,getCaptcha:m.z8,login:m.iD})((e=>{const r=(0,u.Zp)(),[s,h]=(0,t.useState)(void 0),[m,g]=(0,t.useState)(!1),{register:f,handleSubmit:j,formState:{errors:x}}=(0,a.mN)({});(0,t.useEffect)((()=>{e.isLogined&&r("/profile")}),[e.isLogined,r]);return(0,t.useEffect)((()=>{(x.email||x.password)&&h("true")}),[x]),(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("h3",{children:"Login"}),(0,_.jsxs)("form",{className:n,onSubmit:j((s=>{e.login(s).then((s=>{s.data.resultCode===p.$9.RequiredCaptcha&&(g(!0),e.getCaptcha(),h("true")),s.data.resultCode===p.$9.Error&&h("true"),s.data.resultCode===p.$9.Success&&(r("/profile"),e.auth())}))})),children:[(0,_.jsx)(l.A,{type:"email",holder:"Email",...f("email",{required:!0}),iserror:s}),(0,_.jsx)(l.A,{type:"password",holder:"Password",...f("password",{required:!0}),iserror:s}),(0,_.jsxs)("div",{className:i,children:[(0,_.jsx)("input",{type:"checkbox",id:"rememberMe"}),(0,_.jsx)("label",{children:"Remember me"})]}),m?(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("img",{src:e.captcha}),(0,_.jsx)(l.A,{iserror:void 0,holder:"Captcha",...f("captcha",{required:!0})})]}):null,(0,_.jsx)(d.A,{name:"Submit"})]})]})}))},240:(e,r,s)=>{s.d(r,{A:()=>o});s(43);const t="MyButton_MyButton__CeT00";var a=s(579);const o=e=>(0,a.jsx)("button",{className:t,...e,children:e.name})},907:(e,r,s)=>{s.d(r,{A:()=>n});var t=s(43);const a="MyInput_input__537b-",o="MyInput_error__klO6M";var i=s(579);const n=(0,t.forwardRef)(((e,r)=>{let{holder:s,...t}=e;return(0,i.jsx)("input",{ref:r,className:`${a} ${t.iserror?o:""}`,...t,placeholder:s})}))}}]);
//# sourceMappingURL=712.5068235b.chunk.js.map