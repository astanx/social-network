"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[516],{9963:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(5043);const i="Messages_content__wNDBY",l="MessageList_MessageList__LxXPb";var o=a(8088),n=a(5386),r=a(579);const d=e=>{const s=(Array.isArray(e.MessagesData)?e.MessagesData:[e.MessagesData]).map((e=>(0,r.jsx)(o.A,{link:"true",name:e.userName,logo:e.photos.small?e.photos.small:n,id:e.id,isDeletable:!1},e.id)));return(0,r.jsx)("div",{className:l,style:{overflowY:"auto",height:"80vh"},children:s})},g={};var c=a(4455),m=(a(9102),a(3216)),u=a(8347);const D=e=>{var s;const i=a(4348),{userId:l}=(0,m.g)(),d=(0,t.useRef)(null);(0,t.useEffect)((()=>{d.current&&d.current.scrollIntoView()}),[e.DialogData]);const D=e.DialogData&&e.DialogData.items&&e.DialogData.items.length>0?null===(s=e.DialogData)||void 0===s?void 0:s.items.map((e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{isDeletable:!0,viewed:e.viewed,message:e.body,name:e.senderName,logo:n,messageId:e.id,id:e.senderId,deleteMessage:u.RC,time:i.utc(e.addedAt).tz("Europe/Moscow").format("YYYY-MM-DD HH:mm")},e.id),(0,r.jsx)("div",{ref:d})]}))):null;return l?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:g.message,style:{overflowY:"auto",height:"80vh"},children:D}),(0,r.jsx)(c.A,{friendId:Number(l),login:e.login,ws:void 0})]}):null};var v=a(8122),h=a(3003);const f=(0,a(6990).A)((()=>{const{userId:e}=(0,m.g)(),s=(0,h.d4)((e=>e.login.isLogined)),a=(0,h.d4)((e=>e.messages.isFetching)),l=(0,h.d4)((e=>e.messages.MessagesData)),o=(0,h.d4)((e=>e.messages.DialogData)),n=(0,h.d4)((e=>e.login.login)),g=(0,h.wA)();return(0,t.useEffect)((()=>{s&&(g((0,u.VL)()),e&&g((0,u.rC)(Number(e))))}),[e]),a?(0,r.jsx)(v.A,{}):(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)(d,{MessagesData:l}),(0,r.jsx)(D,{login:n,DialogData:o})]})}))},5386:(e,s,a)=>{e.exports=a.p+"static/media/logo.2f2ff0b4682deee5c970.png"}}]);
//# sourceMappingURL=516.e4dc84f8.chunk.js.map