"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[905],{3178:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var o=t(5043),a=t(4455),s=t(8088),n=t(8122),l=t(6990);const c="ChatPage_chatContainer__aVU5c";var i=t(579);const d=(0,l.A)((()=>{const[e,r]=(0,o.useState)([]),[t,l]=(0,o.useState)(null),[d,u]=(0,o.useState)(!0);function v(){const e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");return e.onclose=e=>{setTimeout((function(){v()}),1e3)},e.onerror=e=>{console.error("WebSocket error:",e)},e}(0,o.useEffect)((()=>{null===t||void 0===t||t.addEventListener("message",(e=>{const t=JSON.parse(e.data);r((e=>[...e,...t])),u(!1)}))}),[t]),(0,o.useEffect)((()=>{if(!t){console.log("connected");const e=v();l(e)}return()=>{u(!0),null===t||void 0===t||t.close()}}),[t]);const f=e.map(((e,r)=>(0,i.jsx)(s.A,{isDeletable:!1,message:e.message,name:e.userName,logo:e.photo,id:e.userId},`${e.userId}-${e.timestamp}-${r}`)));return d?(0,i.jsx)(n.A,{}):(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:c,children:f.length>0?f:(0,i.jsx)("p",{children:"No messages yet."})}),(0,i.jsx)(a.A,{ws:t,friendId:0,login:null})]})}))},3768:(e,r,t)=>{t.d(r,{A:()=>s});var o=t(9662),a=t(579);const s=(0,o.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1045:(e,r,t)=>{t.d(r,{A:()=>y});var o=t(5043),a=t(8387),s=t(8610),n=t(4535),l=t(6870),c=t(8249),i=t(9662),d=t(579);const u=(0,i.A)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var v=t(2532),f=t(2372);function m(e){return(0,f.Ay)("MuiAvatar",e)}(0,v.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var p=t(4162);const g=(0,n.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((0,l.A)((e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(r.vars||r).palette.background.default,...r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:r.palette.grey[400],...r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})}}}]}}))),h=(0,n.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),A=(0,n.Ay)(u,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});const y=o.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:n,children:l,className:i,component:u="div",slots:v={},slotProps:f={},imgProps:y,sizes:w,src:b,srcSet:S,variant:k="circular",...C}=t;let x=null;const M=function(e){let{crossOrigin:r,referrerPolicy:t,src:a,srcSet:s}=e;const[n,l]=o.useState(!1);return o.useEffect((()=>{if(!a&&!s)return;l(!1);let e=!0;const o=new Image;return o.onload=()=>{e&&l("loaded")},o.onerror=()=>{e&&l("error")},o.crossOrigin=r,o.referrerPolicy=t,o.src=a,s&&(o.srcset=s),()=>{e=!1}}),[r,t,a,s]),n}({...y,src:b,srcSet:S}),j=b||S,R=j&&"error"!==M,N={...t,colorDefault:!R,component:u,variant:k};delete N.ownerState;const D=(e=>{const{classes:r,variant:t,colorDefault:o}=e,a={root:["root",t,o&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,s.A)(a,m,r)})(N),[P,z]=(0,p.A)("img",{className:D.img,elementType:h,externalForwardedProps:{slots:v,slotProps:{img:{...y,...f.img}}},additionalProps:{alt:n,src:b,srcSet:S,sizes:w},ownerState:N});return x=R?(0,d.jsx)(P,{...z}):l||0===l?l:j&&n?n[0]:(0,d.jsx)(A,{ownerState:N,className:D.fallback}),(0,d.jsx)(g,{as:u,className:(0,a.A)(D.root,i),ref:r,...C,ownerState:N,children:x})}))},6494:(e,r,t)=>{t.d(r,{A:()=>f});var o=t(5043),a=t(8387),s=t(8610),n=t(4535),l=t(8249),c=t(2532),i=t(2372);function d(e){return(0,i.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var u=t(579);const v=(0,n.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:16,"&:last-child":{paddingBottom:24}}),f=o.forwardRef((function(e,r){const t=(0,l.b)({props:e,name:"MuiCardContent"}),{className:o,component:n="div",...c}=t,i={...t,component:n},f=(e=>{const{classes:r}=e;return(0,s.A)({root:["root"]},d,r)})(i);return(0,u.jsx)(v,{as:n,className:(0,a.A)(f.root,o),ownerState:i,ref:r,...c})}))},2110:(e,r,t)=>{t.d(r,{A:()=>m});var o=t(5043),a=t(8387),s=t(8610),n=t(4535),l=t(8249),c=t(1596),i=t(2532),d=t(2372);function u(e){return(0,d.Ay)("MuiCard",e)}(0,i.A)("MuiCard",["root"]);var v=t(579);const f=(0,n.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})({overflow:"hidden"}),m=o.forwardRef((function(e,r){const t=(0,l.b)({props:e,name:"MuiCard"}),{className:o,raised:n=!1,...c}=t,i={...t,raised:n},d=(e=>{const{classes:r}=e;return(0,s.A)({root:["root"]},u,r)})(i);return(0,v.jsx)(f,{className:(0,a.A)(d.root,o),elevation:n?8:void 0,ref:r,ownerState:i,...c})}))}}]);
//# sourceMappingURL=905.182ccd35.chunk.js.map