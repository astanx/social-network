"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[574],{574:(e,s,n)=>{n.r(s),n.d(s,{default:()=>b});var r=n(3),a=n(43);const i="FindUser_content__8mQfO",t="FindUser_users__8UIRP",o="FindUser_form__-LKbX";var l=n(240),d=n(475);const c="User_logo__hfNVS",g="User_User__Uz15a",m="User_link__q6iEb",f="User_UserInfo__aq3mP";var h=n(386),u=n(103),_=n(579);const p=e=>{const s=(0,r.wA)();return(0,_.jsxs)("div",{className:g,children:[(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("img",{src:e.logo?e.logo:h,className:c}),e.followed&&e.isLogined?(0,_.jsx)(l.A,{disabled:e.followingInProgress.some((s=>s===e.id)),onClick:()=>s((0,u.X2)(e.id)),name:"UnFollow"}):e.isLogined?(0,_.jsx)(l.A,{disabled:e.followingInProgress.some((s=>s===e.id)),onClick:()=>s((0,u.e6)(e.id)),name:"Follow"}):null]}),(0,_.jsx)(d.k2,{to:`/profile/${e.id}`,className:m,children:(0,_.jsx)("div",{className:f,children:(0,_.jsx)("div",{children:e.name})})})]})};var x=n(907),P=n(858),j=n(216);const U=()=>{const e=(0,r.d4)((e=>e.login.isLogined)),s=(0,r.d4)((e=>e.findUser.followingInProgress)),n=(0,r.d4)((e=>e.findUser.term)),a=(0,r.d4)((e=>e.findUser.friend)),i=(0,r.wA)(),d=(0,r.d4)((e=>e.findUser.users)).map((n=>(0,_.jsx)(p,{logo:n.photos.small,id:n.id,name:n.name,followed:n.followed,followingInProgress:s,isLogined:e},n.id))),{register:c,handleSubmit:g}=(0,P.mN)({defaultValues:{term:n,friend:a}}),m=(0,j.Zp)();return(0,_.jsxs)("div",{children:[(0,_.jsxs)("form",{onSubmit:g((e=>{i(u.o1.setFilter(e.term,e.friend,1)),m(`?term=${e.term}&friend=${e.friend}&page=1`)})),className:o,children:[(0,_.jsx)(x.A,{iserror:void 0,...c("term"),holder:"",autoComplete:"off"}),(0,_.jsxs)("div",{children:[(0,_.jsx)("span",{children:"Only friends: "}),(0,_.jsx)("input",{type:"checkbox",...c("friend")})]}),(0,_.jsx)(l.A,{name:"Search"})]}),(0,_.jsx)("div",{className:t,children:d})]})};var v=n(122);const w="Paginator_pagination__LhtGL",N="Paginator_selected__tAYtY",k=e=>{const s=(0,r.wA)();let n=[];for(let r=e.minPagination;r<=e.maxPagination;r++)n.push(r);let a=n.slice(0,e.totalPages-1).map((n=>(0,_.jsx)("span",{onClick:()=>s(u.o1.changePage(n)),className:n===e.currentPage?N:"",children:n},n)));return(0,_.jsxs)("div",{className:w,children:[a,e.totalPages>10?(0,_.jsx)("span",{onClick:()=>{s(u.o1.changePagination(e.minPagination+10,e.maxPagination+10))},children:"..."}):"",(0,_.jsx)("span",{onClick:()=>{s(u.o1.changePage(e.totalPages))},className:e.totalPages===e.currentPage?N:"",children:e.totalPages})]})},b=()=>{const e=(0,r.d4)((e=>e.findUser.pagesCount)),s=(0,r.d4)((e=>e.findUser.isFetching)),n=(0,r.d4)((e=>e.findUser.term)),t=(0,r.d4)((e=>e.findUser.pageSize));let o=(0,r.d4)((e=>e.findUser.currentPage));const l=(0,r.d4)((e=>e.findUser.minPagination)),d=(0,r.d4)((e=>e.findUser.friend)),c=(0,r.d4)((e=>e.findUser.maxPagination)),g=(0,r.wA)(),m=(0,j.zy)(),f=(0,j.Zp)();return(0,a.useEffect)((()=>{const e=new URLSearchParams(m.search);e.set("page",String(o)),e.set("term",n||""),e.set("friend",d?"true":"false"),f(`${m.pathname}?${e.toString()}`)}),[o,d,n]),(0,a.useEffect)((()=>{var e;const s=new URLSearchParams(m.search),n=Object.fromEntries(s.entries()),r=null!==(e=n.term)&&void 0!==e?e:"";let a=o;const i="true"===n.friend;n.page&&(a=Number(n.page)),f(`${m.pathname}?${s.toString()}`),g((0,u.lo)(t,a,r,i))}),[m.search]),(0,_.jsx)("div",{className:i,children:s?(0,_.jsx)(v.A,{}):(0,_.jsxs)("div",{children:[(0,_.jsx)(U,{}),(0,_.jsx)(k,{currentPage:o,totalPages:e,minPagination:l,maxPagination:c,pagesCount:e})]})})}},240:(e,s,n)=>{n.d(s,{A:()=>i});n(43);const r="MyButton_MyButton__CeT00";var a=n(579);const i=e=>(0,a.jsx)("button",{className:r,...e,children:e.name})},907:(e,s,n)=>{n.d(s,{A:()=>o});var r=n(43);const a="MyInput_input__537b-",i="MyInput_error__klO6M";var t=n(579);const o=(0,r.forwardRef)(((e,s)=>{let{holder:n,...r}=e;return(0,t.jsx)("input",{ref:s,className:`${a} ${r.iserror?i:""}`,...r,placeholder:n})}))},386:(e,s,n)=>{e.exports=n.p+"static/media/logo.2f2ff0b4682deee5c970.png"}}]);
//# sourceMappingURL=574.68bdd6ad.chunk.js.map